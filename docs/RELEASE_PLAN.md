# Auralyn リリース計画書

**ドキュメントバージョン**: 1.0.0
**目的**: Auralynの公開・配布・運用に関する戦略と方針を定義する。

---

## 1. 配布戦略

### 1.1 配布場所と更新
*   **初期リリース**: S3 (または互換静的ストレージ) にインストーラーを配置し、直接ダウンロードさせる。
*   **将来展望**: GitHub Releases を利用した自動更新 (Tauri Updater) の導入。
*   **更新方式**: **手動更新 (初期)**。アプリ内で「新しいバージョンがあります」という通知を出し、サイトへ誘導する形を推奨。
    *   *理由*: 自動更新基盤（署名キー管理やアップデータ用JSONの準備）のコストを初期段階で避けるため。

### 1.2 セキュリティとSmartScreen対策
*   **コード署名証明書**: **なし (初期)**。
    *   *影響*: Windows SmartScreen により「認識されないアプリ」として警告が出る可能性が高い。
    *   *対策*:
        1.  Webサイトのダウンロードボタン付近に「**SmartScreenの警告が出る場合**」というFAQリンクまたはツールチップを設置する。
        2.  インストーラーのファイルハッシュ (SHA-256) をWebサイトに明記し、改ざんされていないことをユーザーが確認できるようにする。
*   **インストーラー形式**: `.msi` または `.exe` (NSIS)。現状のNSIS (`.exe`) で問題なし。

---

## 2. 環境定義とオーディオ仕様

### 2.1 対応環境
*   **OS**: **Windows 11 (x64) のみ**。
    *   *Windows 10*: サポート終了が近いため、初期サポートから除外して検証工数を削減する。
    *   *アーキテクチャ*: x64 のみ。ARM64 は対象外。

### 2.2 オーディオ仕様の正確な表記
*   **ASIO**: 「対応 (Supported)」。
*   **WASAPI**: 「対応 (Supported・共有モード)」。※排他モードではないことを注記しておくとトラブル防止になるが、一般ユーザーには「WASAPI対応」で十分。
*   **DirectSound**: 「非対応」。古い規格のため言及しなくて良い。
*   **遅延 (Latency)**:
    *   表記: 「**超低遅延 (環境依存)**」とし、具体的な数字（例: 5ms）は「※ハイスペック環境での理論値」として注釈に入れる程度に留める。
    *   アプリ内では実測値（バッファサイズに基づく計算値）を表示する。

---

## 3. 推奨ルーティング (仮想ケーブルの扱い)

「Auralynをどう使うか」の標準パターンを定義する。

### ケースA: OBS配信 (マイク音声を加工して配信)
1.  **Input**: 物理マイク (例: Audio Interface)
2.  **Processing**: Auralyn (VST3 Plugins)
3.  **Output**: **仮想オーディオケーブル (例: VB-Cable Input)**
4.  **OBS Mic Input**: **仮想オーディオケーブル (例: VB-Cable Output)**

### ケースB: Discord通話 (マイク音声を加工して通話)
1.  **Input**: 物理マイク
2.  **Processing**: Auralyn
3.  **Output**: **仮想オーディオケーブル**
4.  **Discord Input**: **仮想オーディオケーブル**

> **結論**: Auralyn自体は仮想デバイス機能を持たないため、他アプリへ音を送るには**仮想ケーブル（VB-Cable等）の併用が必須**となる。「仮想ケーブル不要」という表現を削除したのはこのため。
> サイトのFAQや「仕組み」セクションで、**VB-Audio Virtual Cable (無料版)** などの導入を案内する導線が必要。

---

## 4. 権利・ライセンス表記

### 4.1 必須表記
*   **VST3 (Steinberg)**: VST3 SDKを使用しているため、以下の著作権表示が必須（About画面およびWebサイトのフッター/ライセンスページ）。
    > VST is a trademark of Steinberg Media Technologies GmbH, registered in Europe and other countries.
*   **ASIO (Steinberg)**: ASIO SDKを使用している場合。
    > ASIO is a software and trademark of Steinberg Media Technologies GmbH.

### 4.2 サードパーティライセンス (Third Party Notices)
*   OSSライブラリ（Rustクレート、Reactライブラリ）のライセンスを一覧化したページまたはテキストファイルが必要。
*   *実装*: `generate-licenses.cjs` で生成したテキストをアプリ内の「ライセンス」モーダルに表示する機能でカバー済み。Webサイトにもリンクがあると尚良い。

---

## 5. 安全策と互換性

### 5.1 プラグインスキャン
*   **対象フォルダ**: システム標準の `C:\Program Files\Common Files\VST3` を固定（初期リリース）。
    *   ユーザーによるカスタムパス追加は「将来機能」とする。
*   **クラッシュ対策**:
    *   **サイドカー分離**: エンジンが落ちてもUIは生き残るため、ユーザーに「エンジンがクラッシュしました。再起動しますか？」と通知を出して復帰させる。
    *   **セーフモード**: 起動時に特定のプラグインで連続クラッシュした場合、そのプラグインをブラックリスト化して起動する機能を（将来的に）実装する。

---

## 6. サポート・法務

### 6.1 サポート導線
*   **不具合報告**: Googleフォーム 等の問い合わせフォームを用意する。
    *   GitHub Issues は開発者向けに見えるため、一般ユーザーにはフォームの方が親切。
    *   フォーム項目: OSバージョン、オーディオデバイス名、発生した現象、ログファイル（あれば）。

### 6.2 法務ドキュメント
*   **利用規約 (EULA)**:
    *   「本ソフトウェアは現状有姿(AS-IS)で提供されます」
    *   「本ソフトウェアの使用による損害（スピーカー破損、難聴、配信事故など）について、作者は一切の責任を負いません」という**免責条項**が最重要。
*   **プライバシーポリシー**:
    *   個人情報を収集しない場合でも、「収集しない」旨を明記する。
    *   Google Analytics等をサイトに入れるなら、Cookie利用の同意が必要。

---

## 7. コンテンツ運用

### 7.1 バージョン表記の運用
*   サイトのHTMLに `v0.1.0` と直書きすると更新が手間になる。
*   **推奨案**: S3上に `metadata.json` を置く。
    ```json
    {
      "latest_version": "0.1.0-beta",
      "download_url": "https://s3.../Auralyn_Setup_0.1.0.exe",
      "release_date": "2026-01-20"
    }
    ```
*   Webサイト（JavaScript）でこのJSONを取得し、ダウンロードボタンのラベルとリンクを動的に書き換える。これならHTMLを編集せずにリリース可能。

---

---

## 8. デザイン整合性

*   **アプリとサイトの共通点**:
    *   **テーマ**: どちらも「Dark Mode」をベースとしたサイバー・スレート調で一致している。
    *   **CSSフレームワーク**: アプリ(Tailwind v4) と サイト(Tailwind推奨) で技術スタックも共通しており、カラーパレット（`#0a0f1a`など）の変数共有が容易。
*   **結論**:
    *   「Dark Mode Only」「Tailwind推奨」というサイト側の前提は、Auralynアプリのデザイン指針と完全に合致しており、ブランドイメージの統一が可能。
    *   アプリ内のコンポーネント（ボタンやカードのデザイン）をWebサイトに流用することも技術的に容易である。

